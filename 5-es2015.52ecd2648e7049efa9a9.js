(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{EA54:function(t,e,i){"use strict";i.r(e),i.d(e,"MoviesModule",(function(){return G}));var o=i("ofXK"),a=i("vxfF"),c=i("PCNd"),n=i("tyNb"),r=i("3Pt+");const s=["movie","series","episode"];var b=i("IzEk"),l=i("fXoL"),d=i("tk/3"),v=i("z6cu"),m=i("LRne"),p=i("AytR"),u=i("eIep");let f=(()=>{class t{constructor(t){this.http=t}searchMovies$(t,e,i,o){const a=`${p.a.url}${p.a.apikey}`,c=(new d.c).set("s",t).set("type",e).set("y",i).set("page ",o.toString());return this.http.get(a,{params:c}).pipe(Object(u.a)(t=>t.Search?Object(m.a)(t):Object(v.a)("Movie not found!")))}getDetailMovie$(t){const e=`${p.a.url}${p.a.apikey}`,i=(new d.c).set("i",t);return this.http.get(e,{params:i})}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(d.a))},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=i("2Vo4");let g=(()=>{class t{constructor(){this.favoriteMovies=new h.a([]),this.movies=new h.a({Search:[]});const t=JSON.parse(localStorage.getItem("favoriteMovies"));this.favoriteMovies.next(t||[])}getFavoriteMovies(){return this.favoriteMovies.asObservable()}addFavoriteMovies(t){(class{static validateExistMovie(t,e){if(e.find(e=>e.imdbID===t.imdbID))throw"Movie already exits in you favorite"}}).validateExistMovie(t,this.favoriteMovies.getValue());const e=[...this.favoriteMovies.getValue(),t];localStorage.setItem("favoriteMovies",JSON.stringify(e)),this.favoriteMovies.next(e)}removeFavoriteMovies(t){const e=this.favoriteMovies.getValue().filter(e=>e.imdbID!==t.imdbID);localStorage.setItem("favoriteMovies",JSON.stringify(e)),this.favoriteMovies.next(e)}getMovies(){return this.movies.asObservable()}addMovies(t){this.movies.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=i("dNgK"),w=i("kmnG"),R=i("qFsG"),M=i("d3UM"),_=i("FKr1"),y=i("bTqV"),x=i("Wp6s"),O=i("Qu3c"),k=i("NFeN");function B(t,e){if(1&t&&(l.Qb(0),l.Sb(1,"mat-option",11),l.wc(2),l.Rb(),l.Pb()),2&t){const t=e.$implicit;l.Bb(1),l.jc("value",t),l.Bb(1),l.xc(t)}}function P(t,e){if(1&t){const t=l.Tb();l.Sb(0,"mat-card",14),l.Sb(1,"div",15),l.ac("click",(function(){l.oc(t);const i=e.$implicit;return l.ec(2).viewDetail(i.imdbID)})),l.Ob(2,"img",16),l.Sb(3,"mat-card-content",17),l.Sb(4,"p"),l.wc(5),l.Rb(),l.Sb(6,"p"),l.wc(7),l.Rb(),l.Rb(),l.Rb(),l.Sb(8,"mat-card-actions",18),l.Sb(9,"button",19),l.ac("click",(function(){l.oc(t);const i=e.$implicit;return l.ec(2).removeFavorite(i)})),l.Sb(10,"mat-icon",20),l.wc(11,"remove"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit;l.jc("matTooltip",t.Title),l.Bb(2),l.jc("src",t.Poster,l.pc),l.Bb(3),l.xc(t.Year),l.Bb(2),l.xc(t.Type)}}function C(t,e){if(1&t&&(l.Sb(0,"div",12),l.uc(1,P,12,4,"mat-card",13),l.Rb()),2&t){const t=e.ngIf;l.Bb(1),l.jc("ngForOf",t)}}function F(t,e){if(1&t){const t=l.Tb();l.Sb(0,"mat-card",14),l.Sb(1,"div",15),l.ac("click",(function(){l.oc(t);const i=e.$implicit;return l.ec(2).viewDetail(i.imdbID)})),l.Ob(2,"img",16),l.Sb(3,"mat-card-content",17),l.Sb(4,"p"),l.wc(5),l.Rb(),l.Sb(6,"p"),l.wc(7),l.Rb(),l.Rb(),l.Rb(),l.Sb(8,"mat-card-actions",18),l.Sb(9,"button",19),l.ac("click",(function(){l.oc(t);const i=e.$implicit;return l.ec(2).addFavorite(i)})),l.Sb(10,"mat-icon",20),l.wc(11," add_circle_outline "),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit;l.jc("matTooltip",t.Title),l.Bb(2),l.jc("src",t.Poster,l.pc),l.Bb(3),l.xc(t.Year),l.Bb(2),l.xc(t.Type)}}function I(t,e){if(1&t&&(l.Sb(0,"div",21),l.uc(1,F,12,4,"mat-card",13),l.Rb()),2&t){const t=e.ngIf;l.Bb(1),l.jc("ngForOf",t.Search)}}let j=(()=>{class t{constructor(t,e,i,o){this.service=t,this.state=e,this.router=i,this.snackBar=o,this.typeMovies=s,this.page=1}ngOnInit(){this.favoriteMovies$=this.state.getFavoriteMovies(),this.movies$=this.state.getMovies(),this.searchForm=new r.d({search:new r.b("",[r.m.required]),type:new r.b,year:new r.b})}onSearch({search:t,type:e,year:i}){this.service.searchMovies$(t,e,i,this.page).pipe(Object(b.a)(1)).subscribe({next:t=>this.state.addMovies(t),error:t=>this.openSnackBar(t)})}addFavorite(t){try{this.state.addFavoriteMovies(t),this.openSnackBar("Movie add successful")}catch(e){this.openSnackBar(e)}}removeFavorite(t){this.state.removeFavoriteMovies(t),this.openSnackBar("Movie remove successful")}viewDetail(t){this.router.navigate(["/movie/detail/"+t])}openSnackBar(t){this.searchForm.reset(),this.snackBar.open(t,"Close",{duration:2e3})}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(f),l.Nb(g),l.Nb(n.b),l.Nb(S.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-list"]],decls:29,vars:9,consts:[[1,"list-movie"],[1,"list-movie-container","container"],[1,"list-movie-container-form",3,"formGroup"],["appearance","outline",1,"list-movie-container-form__input"],["matInput","","type","text","formControlName","search","placeholder","Movie"],["formControlName","type"],[4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","year","placeholder","Placeholder"],["mat-flat-button","","type","submit","color","primary",1,"list-movie-container-form__button",3,"disabled","click"],["class","list-movie-container-favorites","cdkScrollable","",4,"ngIf"],["class","list-movie-container-result",4,"ngIf"],[3,"value"],["cdkScrollable","",1,"list-movie-container-favorites"],["class","movie-card",3,"matTooltip",4,"ngFor","ngForOf"],[1,"movie-card",3,"matTooltip"],["matRipple","","matRippleColor","primary",3,"click"],["mat-card-image","","onerror","this.src='assets/img/download.png'",1,"movie-card__img",3,"src"],[1,"movie-card__content"],[1,"movie-card__actions"],["mat-button","","color","accent",3,"click"],["aria-hidden","false","aria-label","add-favorites"],[1,"list-movie-container-result"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"form",2),l.Sb(3,"mat-form-field",3),l.Sb(4,"mat-label"),l.wc(5,"Name movie"),l.Rb(),l.Ob(6,"input",4),l.Rb(),l.Sb(7,"mat-form-field",3),l.Sb(8,"mat-label"),l.wc(9,"Type"),l.Rb(),l.Sb(10,"mat-select",5),l.Sb(11,"mat-option"),l.wc(12,"-- None --"),l.Rb(),l.uc(13,B,3,2,"ng-container",6),l.Rb(),l.Rb(),l.Sb(14,"mat-form-field",3),l.Sb(15,"mat-label"),l.wc(16,"Year"),l.Rb(),l.Ob(17,"input",7),l.Rb(),l.Sb(18,"div"),l.Sb(19,"button",8),l.ac("click",(function(){return e.onSearch(e.searchForm.value)})),l.wc(20," Search "),l.Rb(),l.Rb(),l.Rb(),l.Sb(21,"h2"),l.wc(22,"Your Favorite Movies"),l.Rb(),l.uc(23,C,2,1,"div",9),l.fc(24,"async"),l.Sb(25,"h2"),l.wc(26,"Films Found"),l.Rb(),l.uc(27,I,2,1,"div",10),l.fc(28,"async"),l.Rb(),l.Rb()),2&t&&(l.Bb(2),l.jc("formGroup",e.searchForm),l.Bb(11),l.jc("ngForOf",e.typeMovies),l.Bb(6),l.jc("disabled",e.searchForm.invalid),l.Bb(4),l.jc("ngIf",l.gc(24,5,e.favoriteMovies$)),l.Bb(4),l.jc("ngIf",l.gc(28,7,e.movies$)))},directives:[r.n,r.j,r.e,w.b,w.e,R.a,r.a,r.i,r.c,M.a,_.h,o.j,y.a,o.k,a.a,x.a,O.a,_.l,x.f,x.c,x.b,k.a],pipes:[o.b],styles:[".list-movie[_ngcontent-%COMP%]{display:flex;justify-content:center}.list-movie-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0}.list-movie-container-favorites[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow:auto}.list-movie-container-form[_ngcontent-%COMP%]{align-items:baseline;display:flex;justify-content:center}.list-movie-container-form__input[_ngcontent-%COMP%]{margin:0 10px}.list-movie-container-result[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,20%)}.movie-card[_ngcontent-%COMP%]{cursor:pointer;max-width:200px;margin:10px;height:auto;width:100%;padding:0}.movie-card__img[_ngcontent-%COMP%]{max-height:272px}.movie-card__content[_ngcontent-%COMP%]{display:flex}.movie-card__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;overflow:hidden;text-overflow:ellipsis;text-align:center;width:200px;white-space:nowrap}.movie-card__actions[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:-10px}.movie-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px -5px #b388ff}"],changeDetection:0}),t})();var N=i("Xa2L");function $(t,e){if(1&t){const t=l.Tb();l.Sb(0,"mat-card",7),l.Sb(1,"div",8),l.Ob(2,"img",9),l.Rb(),l.Sb(3,"div",10),l.Sb(4,"mat-card-header"),l.Sb(5,"mat-card-title"),l.wc(6),l.Rb(),l.Rb(),l.Sb(7,"mat-card-content",11),l.Sb(8,"div"),l.Sb(9,"b"),l.wc(10,"Year:"),l.Rb(),l.wc(11),l.Rb(),l.Sb(12,"div"),l.Sb(13,"b"),l.wc(14,"Released:"),l.Rb(),l.wc(15),l.Rb(),l.Sb(16,"div"),l.Sb(17,"b"),l.wc(18,"Runtime:"),l.Rb(),l.wc(19),l.Rb(),l.Sb(20,"div"),l.Sb(21,"b"),l.wc(22,"Genre:"),l.Rb(),l.wc(23),l.Rb(),l.Sb(24,"div"),l.Sb(25,"b"),l.wc(26,"Director:"),l.Rb(),l.wc(27),l.Rb(),l.Sb(28,"div"),l.Sb(29,"b"),l.wc(30,"Actors:"),l.Rb(),l.wc(31),l.Rb(),l.Sb(32,"div"),l.Sb(33,"b"),l.wc(34,"Awards:"),l.Rb(),l.wc(35),l.Rb(),l.Sb(36,"div"),l.Sb(37,"b"),l.wc(38,"Production:"),l.Rb(),l.wc(39),l.Rb(),l.Sb(40,"div"),l.Sb(41,"p"),l.wc(42),l.Rb(),l.Rb(),l.Sb(43,"div"),l.Sb(44,"p"),l.wc(45),l.Rb(),l.Rb(),l.Rb(),l.Sb(46,"mat-card-actions",12),l.Sb(47,"button",13),l.ac("click",(function(){l.oc(t);const i=e.ngIf;return l.ec().addFavorite(i)})),l.Sb(48,"mat-icon",14),l.wc(49,"add_circle_outline"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.ngIf;l.Bb(2),l.jc("src",t.Poster,l.pc),l.Bb(4),l.xc(t.Title),l.Bb(5),l.yc(" ",t.Year,""),l.Bb(4),l.yc(" ",t.Released,""),l.Bb(4),l.yc(" ",t.Runtime,""),l.Bb(4),l.yc(" ",t.Genre,""),l.Bb(4),l.yc(" ",t.Director,""),l.Bb(4),l.yc(" ",t.Actors,""),l.Bb(4),l.yc(" ",t.Awards,""),l.Bb(4),l.yc(" ",t.Production,""),l.Bb(3),l.xc(t.Writer),l.Bb(3),l.xc(t.Plot)}}function T(t,e){1&t&&l.Ob(0,"mat-spinner")}let D=(()=>{class t{constructor(t,e,i,o,a){this.activatedRoute=t,this.service=e,this.state=i,this.snackBar=o,this.location=a}ngOnInit(){this.detailMovie$=this.activatedRoute.params.pipe(Object(u.a)(({id:t})=>this.service.getDetailMovie$(t)))}addFavorite(t){try{this.state.addFavoriteMovies(t),this.openSnackBar("Movie add successful")}catch(e){this.openSnackBar(e)}}openSnackBar(t){this.snackBar.open(t,"Close",{duration:2e3})}previousPage(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(n.a),l.Nb(f),l.Nb(g),l.Nb(S.a),l.Nb(o.g))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-detail"]],decls:10,vars:4,consts:[[1,"detail"],[1,"detail-container","container"],[1,"detail-container__previous"],["mat-button","",3,"click"],["aria-hidden","false","aria-label","return"],["class","detail-container-card",4,"ngIf","ngIfElse"],["loading",""],[1,"detail-container-card"],[1,"detail-container-card__img"],["mat-card-image","","onerror","this.src='assets/img/download.png'",3,"src"],[1,"detail-container-card-description"],[1,"detail-container-card-description__detail"],[1,"detail-container-card-description__actions"],["mat-button","","type","submit","color","accent",3,"click"],["aria-hidden","false","aria-label","add-favorites"]],template:function(t,e){if(1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"div",2),l.Sb(3,"button",3),l.ac("click",(function(){return e.previousPage()})),l.Sb(4,"mat-icon",4),l.wc(5," keyboard_backspace "),l.Rb(),l.Rb(),l.Rb(),l.uc(6,$,50,12,"mat-card",5),l.fc(7,"async"),l.uc(8,T,1,0,"ng-template",null,6,l.vc),l.Rb(),l.Rb()),2&t){const t=l.mc(9);l.Bb(6),l.jc("ngIf",l.gc(7,2,e.detailMovie$))("ngIfElse",t)}},directives:[y.a,k.a,o.k,x.a,x.f,x.e,x.h,x.c,x.b,N.b],pipes:[o.b],styles:[".detail[_ngcontent-%COMP%]{display:flex;justify-content:center}.detail-container__previous[_ngcontent-%COMP%]{position:absolute;top:65px;left:0}.detail-container-card[_ngcontent-%COMP%]{display:flex}.detail-container-card__img[_ngcontent-%COMP%]{margin-right:30px}.detail-container-card__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto}.detail-container-card-description[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}.detail-container-card-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:auto;text-overflow:ellipsis;text-align:justify;width:400px;white-space:normal}.detail-container-card-description__detail[_ngcontent-%COMP%]{margin:0}.detail-container-card-description__actions[_ngcontent-%COMP%]{position:absolute;bottom:-20px;right:0}.mat-card-title[_ngcontent-%COMP%]{overflow:auto;text-overflow:ellipsis;text-align:center;width:400px;white-space:normal}"]}),t})();var J=i("1xRy");const A=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-movie"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Sb(0,"app-template"),l.Ob(1,"router-outlet"),l.Rb())},directives:[J.a,n.d],encapsulation:2}),t})(),children:[{path:"",redirectTo:"movies",pathMatch:"full"},{path:"movies",component:j},{path:"detail/:id",component:D}]}];let E=(()=>{class t{}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(e){return new(e||t)},imports:[[n.c.forChild(A)],n.c]}),t})(),G=(()=>{class t{}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(e){return new(e||t)},providers:[a.c],imports:[[o.c,E,c.a]]}),t})()}}]);