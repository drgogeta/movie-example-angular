function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{EA54:function(e,t,a){"use strict";a.r(t),a.d(t,"MoviesModule",(function(){return z}));var n,i,o=a("ofXK"),r=a("vxfF"),c=a("PCNd"),s=a("tyNb"),l=a("3Pt+"),b=["movie","series","episode"],v=a("IzEk"),u=a("fXoL"),m=a("tk/3"),f=a("z6cu"),p=a("LRne"),d=a("AytR"),h=a("eIep"),y=((n=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"searchMovies$",value:function(e,t,a,n){var i="".concat(d.a.url).concat(d.a.apikey),o=(new m.c).set("s",e).set("type",t).set("y",a).set("page ",n.toString());return this.http.get(i,{params:o}).pipe(Object(h.a)((function(e){return e.Search?Object(p.a)(e):Object(f.a)("Movie not found!")})))}},{key:"getDetailMovie$",value:function(e){var t="".concat(d.a.url).concat(d.a.apikey),a=new m.c;return a.append("i",e),this.http.get(t,{params:a})}}]),e}()).\u0275fac=function(e){return new(e||n)(u.Wb(m.a))},n.\u0275prov=u.Jb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),g=a("2Vo4"),_=((i=function(){function e(){_classCallCheck(this,e),this._favoriteMovies=new g.a([]),this._movies=new g.a({Search:[]});var t=JSON.parse(localStorage.getItem("favoriteMovies"));this._favoriteMovies.next(t||[])}return _createClass(e,[{key:"getFavoriteMovies",value:function(){return this._favoriteMovies.asObservable()}},{key:"addFavoriteMovies",value:function(e){var t=[].concat(_toConsumableArray(this._favoriteMovies.getValue()),[e]);localStorage.setItem("favoriteMovies",JSON.stringify(t)),this._favoriteMovies.next(t)}},{key:"removeFavoriteMovies",value:function(e){var t=this._favoriteMovies.getValue().filter((function(t){return t.imdbID!==e.imdbID}));localStorage.setItem("favoriteMovies",JSON.stringify(t)),this._favoriteMovies.next(t)}},{key:"getMovies",value:function(){return this._movies.asObservable()}},{key:"addMovies",value:function(e){this._movies.next(e)}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=u.Jb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),S=a("dNgK"),k=a("0MNC"),M=a("lJxs"),C=a("UXun"),R=a("XhcP"),w=a("/t3+"),O=a("MutI"),j=a("bTqV"),x=a("NFeN");function P(e,t){if(1&e){var a=u.Tb();u.Sb(0,"button",6),u.ac("click",(function(){return u.oc(a),u.ec(),u.mc(2).toggle()})),u.Sb(1,"mat-icon",7),u.vc(2,"menu"),u.Rb(),u.Rb()}}var F,I=["*"],T=((F=function e(t){_classCallCheck(this,e),this.breakpointObserver=t,this.isHandset$=this.breakpointObserver.observe(k.b.Handset).pipe(Object(M.a)((function(e){return e.matches})),Object(C.a)())}).\u0275fac=function(e){return new(e||F)(u.Nb(k.a))},F.\u0275cmp=u.Hb({type:F,selectors:[["app-template"]],ngContentSelectors:I,decls:22,vars:12,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","href","#"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(e,t){1&e&&(u.ic(),u.Sb(0,"mat-sidenav-container",0),u.Sb(1,"mat-sidenav",1,2),u.fc(3,"async"),u.fc(4,"async"),u.fc(5,"async"),u.Sb(6,"mat-toolbar"),u.vc(7,"Menu"),u.Rb(),u.Sb(8,"mat-nav-list"),u.Sb(9,"a",3),u.vc(10,"Link 1"),u.Rb(),u.Sb(11,"a",3),u.vc(12,"Link 2"),u.Rb(),u.Sb(13,"a",3),u.vc(14,"Link 3"),u.Rb(),u.Rb(),u.Rb(),u.Sb(15,"mat-sidenav-content"),u.Sb(16,"mat-toolbar",4),u.uc(17,P,3,0,"button",5),u.fc(18,"async"),u.Sb(19,"span"),u.vc(20,"movie"),u.Rb(),u.Rb(),u.hc(21),u.Rb(),u.Rb()),2&e&&(u.Bb(1),u.jc("mode",u.gc(4,6,t.isHandset$)?"over":"side")("opened",!1===u.gc(5,8,t.isHandset$)),u.Cb("role",u.gc(3,4,t.isHandset$)?"dialog":"navigation"),u.Bb(16),u.jc("ngIf",u.gc(18,10,t.isHandset$)))},directives:[R.b,R.a,w.a,O.c,O.a,R.c,o.k,j.a,x.a],pipes:[o.b],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1}"]}),F),B=a("kmnG"),A=a("qFsG"),N=a("d3UM"),$=a("FKr1"),L=a("Wp6s"),H=a("Qu3c");function J(e,t){if(1&e&&(u.Qb(0),u.Sb(1,"mat-option",11),u.vc(2),u.Rb(),u.Pb()),2&e){var a=t.$implicit;u.Bb(1),u.jc("value",a),u.Bb(1),u.wc(a)}}function D(e,t){if(1&e){var a=u.Tb();u.Sb(0,"mat-card",14),u.Ob(1,"img",15),u.Sb(2,"mat-card-content",16),u.Sb(3,"p"),u.vc(4),u.Rb(),u.Sb(5,"p"),u.vc(6),u.Rb(),u.Rb(),u.Sb(7,"mat-card-actions",17),u.Sb(8,"button",18),u.ac("click",(function(){u.oc(a);var e=t.$implicit;return u.ec(2).removeFavorite(e)})),u.Sb(9,"mat-icon",19),u.vc(10,"remove"),u.Rb(),u.Rb(),u.Rb(),u.Rb()}if(2&e){var n=t.$implicit;u.jc("matTooltip",n.Title),u.Bb(1),u.jc("src",n.Poster,u.pc),u.Bb(3),u.wc(n.Year),u.Bb(2),u.wc(n.Type)}}function K(e,t){if(1&e&&(u.Sb(0,"div",12),u.uc(1,D,11,4,"mat-card",13),u.Rb()),2&e){var a=t.ngIf;u.Bb(1),u.jc("ngForOf",a)}}function V(e,t){if(1&e){var a=u.Tb();u.Sb(0,"mat-card",14),u.Ob(1,"img",15),u.Sb(2,"mat-card-content",16),u.Sb(3,"p"),u.vc(4),u.Rb(),u.Sb(5,"p"),u.vc(6),u.Rb(),u.Rb(),u.Sb(7,"mat-card-actions",17),u.Sb(8,"button",21),u.ac("click",(function(){u.oc(a);var e=t.$implicit;return u.ec(2).addFavorite(e)})),u.Sb(9,"mat-icon",19),u.vc(10,"add_circle_outline"),u.Rb(),u.Rb(),u.Rb(),u.Rb()}if(2&e){var n=t.$implicit;u.jc("matTooltip",n.Title),u.Bb(1),u.jc("src",n.Poster,u.pc),u.Bb(3),u.wc(n.Year),u.Bb(2),u.wc(n.Type)}}function E(e,t){if(1&e&&(u.Sb(0,"div",20),u.uc(1,V,11,4,"mat-card",13),u.Rb()),2&e){var a=t.ngIf;u.Bb(1),u.jc("ngForOf",a.Search)}}var G,W,X,Y=[{path:"",redirectTo:"movies",pathMatch:"full"},{path:"movies",component:(G=function(){function e(t,a,n){_classCallCheck(this,e),this.service=t,this.state=a,this._snackBar=n,this.typeMovies=b,this.page=1}return _createClass(e,[{key:"ngOnInit",value:function(){this.favoriteMovies$=this.state.getFavoriteMovies(),this.movies$=this.state.getMovies(),this.searchForm=new l.d({search:new l.b("",[l.m.required]),type:new l.b,year:new l.b})}},{key:"onSearch",value:function(e){var t=this,a=e.search,n=e.type,i=e.year;this.service.searchMovies$(a,n,i,this.page).pipe(Object(v.a)(1)).subscribe({next:function(e){return t.state.addMovies(e)},error:function(e){return t.openSnackBar(e)}})}},{key:"addFavorite",value:function(e){this.state.addFavoriteMovies(e),this.openSnackBar("Movie add successful")}},{key:"removeFavorite",value:function(e){this.state.removeFavoriteMovies(e),this.openSnackBar("Movie remove successful")}},{key:"viewDetail",value:function(e){}},{key:"openSnackBar",value:function(e){this.searchForm.reset(),this._snackBar.open(e,"Close",{duration:2e3})}}]),e}(),G.\u0275fac=function(e){return new(e||G)(u.Nb(y),u.Nb(_),u.Nb(S.a))},G.\u0275cmp=u.Hb({type:G,selectors:[["app-list"]],decls:30,vars:9,consts:[[1,"list-movie"],[1,"list-movie-container","container"],[1,"list-movie-container-form",3,"formGroup"],["appearance","outline",1,"list-movie-container-form__input"],["matInput","","type","text","formControlName","search","placeholder","Movie"],["formControlName","type"],[4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","year","placeholder","Placeholder"],["mat-flat-button","","color","primary",1,"list-movie-container-form__button",3,"disabled","click"],["class","list-movie-container-favorites","cdkScrollable","",4,"ngIf"],["class","list-movie-container-result",4,"ngIf"],[3,"value"],["cdkScrollable","",1,"list-movie-container-favorites"],["class","movie-card","matRipple","","matRippleColor","primary",3,"matTooltip",4,"ngFor","ngForOf"],["matRipple","","matRippleColor","primary",1,"movie-card",3,"matTooltip"],["mat-card-image","",1,"movie-card__img",3,"src"],[1,"movie-card__content"],[1,"movie-card__actions"],["mat-button","","color","accent",3,"click"],["aria-hidden","false","aria-label","add-favorites"],[1,"list-movie-container-result"],["mat-button","","type","submit","color","accent",3,"click"]],template:function(e,t){1&e&&(u.Sb(0,"app-template"),u.Sb(1,"div",0),u.Sb(2,"div",1),u.Sb(3,"form",2),u.Sb(4,"mat-form-field",3),u.Sb(5,"mat-label"),u.vc(6,"Name movie"),u.Rb(),u.Ob(7,"input",4),u.Rb(),u.Sb(8,"mat-form-field",3),u.Sb(9,"mat-label"),u.vc(10,"Type"),u.Rb(),u.Sb(11,"mat-select",5),u.Sb(12,"mat-option"),u.vc(13,"-- None --"),u.Rb(),u.uc(14,J,3,2,"ng-container",6),u.Rb(),u.Rb(),u.Sb(15,"mat-form-field",3),u.Sb(16,"mat-label"),u.vc(17,"Year"),u.Rb(),u.Ob(18,"input",7),u.Rb(),u.Sb(19,"div"),u.Sb(20,"button",8),u.ac("click",(function(){return t.onSearch(t.searchForm.value)})),u.vc(21," Search "),u.Rb(),u.Rb(),u.Rb(),u.Sb(22,"h2"),u.vc(23,"Your Favorite Movies"),u.Rb(),u.uc(24,K,2,1,"div",9),u.fc(25,"async"),u.Sb(26,"h2"),u.vc(27,"Films Found"),u.Rb(),u.uc(28,E,2,1,"div",10),u.fc(29,"async"),u.Rb(),u.Rb(),u.Rb()),2&e&&(u.Bb(3),u.jc("formGroup",t.searchForm),u.Bb(11),u.jc("ngForOf",t.typeMovies),u.Bb(6),u.jc("disabled",t.searchForm.invalid),u.Bb(4),u.jc("ngIf",u.gc(25,5,t.favoriteMovies$)),u.Bb(4),u.jc("ngIf",u.gc(29,7,t.movies$)))},directives:[T,l.n,l.j,l.e,B.b,B.e,A.a,l.a,l.i,l.c,N.a,$.h,o.j,j.a,o.k,r.a,L.a,$.l,H.a,L.f,L.c,L.b,x.a],pipes:[o.b],styles:[".list-movie[_ngcontent-%COMP%]{display:flex;justify-content:center}.list-movie-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0}.list-movie-container-favorites[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow:auto}.list-movie-container-form[_ngcontent-%COMP%]{align-items:baseline;display:flex;justify-content:center}.list-movie-container-form__input[_ngcontent-%COMP%]{margin:0 10px}.list-movie-container-result[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,20%)}.movie-card[_ngcontent-%COMP%]{cursor:pointer;max-width:200px;margin:10px;height:auto;width:100%}.movie-card__img[_ngcontent-%COMP%]{max-height:272px}.movie-card__content[_ngcontent-%COMP%]{display:flex}.movie-card__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;overflow:hidden;text-overflow:ellipsis;text-align:center;width:200px;white-space:nowrap}.movie-card__actions[_ngcontent-%COMP%]{position:absolute;bottom:15px;right:0}.movie-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px -5px #b388ff}"],changeDetection:0}),G)}],q=((X=function e(){_classCallCheck(this,e)}).\u0275mod=u.Lb({type:X}),X.\u0275inj=u.Kb({factory:function(e){return new(e||X)},imports:[[s.b.forChild(Y)],s.b]}),X),z=((W=function e(){_classCallCheck(this,e)}).\u0275mod=u.Lb({type:W}),W.\u0275inj=u.Kb({factory:function(e){return new(e||W)},providers:[r.c],imports:[[o.c,q,c.a]]}),W)}}]);