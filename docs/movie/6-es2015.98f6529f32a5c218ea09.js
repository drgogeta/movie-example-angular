(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{EA54:function(t,e,o){"use strict";o.r(e),o.d(e,"MoviesModule",(function(){return X}));var i=o("ofXK"),n=o("vxfF"),a=o("PCNd"),c=o("tyNb"),r=o("3Pt+");const s=["movie","series","episode"];var b=o("IzEk"),l=o("fXoL"),v=o("tk/3"),m=o("z6cu"),p=o("LRne"),d=o("AytR"),f=o("eIep");let u=(()=>{class t{constructor(t){this.http=t}searchMovies$(t,e,o,i){const n=`${d.a.url}${d.a.apikey}`;let a=(new v.c).set("s",t).set("type",e).set("y",o).set("page ",i.toString());return this.http.get(n,{params:a}).pipe(Object(f.a)(t=>t.Search?Object(p.a)(t):Object(m.a)("Movie not found!")))}getDetailMovie$(t){const e=`${d.a.url}${d.a.apikey}`;let o=new v.c;return o.append("i",t),this.http.get(e,{params:o})}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(v.a))},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=o("2Vo4");let h=(()=>{class t{constructor(){this._favoriteMovies=new g.a([]),this._movies=new g.a({Search:[]});const t=JSON.parse(localStorage.getItem("favoriteMovies"));this._favoriteMovies.next(t||[])}getFavoriteMovies(){return this._favoriteMovies.asObservable()}addFavoriteMovies(t){const e=[...this._favoriteMovies.getValue(),t];localStorage.setItem("favoriteMovies",JSON.stringify(e)),this._favoriteMovies.next(e)}removeFavoriteMovies(t){const e=this._favoriteMovies.getValue().filter(e=>e.imdbID!==t.imdbID);localStorage.setItem("favoriteMovies",JSON.stringify(e)),this._favoriteMovies.next(e)}getMovies(){return this._movies.asObservable()}addMovies(t){this._movies.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=o("dNgK"),M=o("0MNC"),y=o("lJxs"),_=o("UXun"),R=o("XhcP"),O=o("/t3+"),w=o("MutI"),k=o("bTqV"),x=o("NFeN");function C(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",6),l.ac("click",(function(){return l.oc(t),l.ec(),l.mc(2).toggle()})),l.Sb(1,"mat-icon",7),l.vc(2,"menu"),l.Rb(),l.Rb()}}const F=["*"];let j=(()=>{class t{constructor(t){this.breakpointObserver=t,this.isHandset$=this.breakpointObserver.observe(M.b.Handset).pipe(Object(y.a)(t=>t.matches),Object(_.a)())}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(M.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-template"]],ngContentSelectors:F,decls:22,vars:12,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","href","#"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,e){1&t&&(l.ic(),l.Sb(0,"mat-sidenav-container",0),l.Sb(1,"mat-sidenav",1,2),l.fc(3,"async"),l.fc(4,"async"),l.fc(5,"async"),l.Sb(6,"mat-toolbar"),l.vc(7,"Menu"),l.Rb(),l.Sb(8,"mat-nav-list"),l.Sb(9,"a",3),l.vc(10,"Link 1"),l.Rb(),l.Sb(11,"a",3),l.vc(12,"Link 2"),l.Rb(),l.Sb(13,"a",3),l.vc(14,"Link 3"),l.Rb(),l.Rb(),l.Rb(),l.Sb(15,"mat-sidenav-content"),l.Sb(16,"mat-toolbar",4),l.uc(17,C,3,0,"button",5),l.fc(18,"async"),l.Sb(19,"span"),l.vc(20,"movie"),l.Rb(),l.Rb(),l.hc(21),l.Rb(),l.Rb()),2&t&&(l.Bb(1),l.jc("mode",l.gc(4,6,e.isHandset$)?"over":"side")("opened",!1===l.gc(5,8,e.isHandset$)),l.Cb("role",l.gc(3,4,e.isHandset$)?"dialog":"navigation"),l.Bb(16),l.jc("ngIf",l.gc(18,10,e.isHandset$)))},directives:[R.b,R.a,O.a,w.c,w.a,R.c,i.k,k.a,x.a],pipes:[i.b],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1}"]}),t})();var P=o("kmnG"),B=o("qFsG"),I=o("d3UM"),$=o("FKr1"),N=o("Wp6s"),T=o("Qu3c");function H(t,e){if(1&t&&(l.Qb(0),l.Sb(1,"mat-option",11),l.vc(2),l.Rb(),l.Pb()),2&t){const t=e.$implicit;l.Bb(1),l.jc("value",t),l.Bb(1),l.wc(t)}}function J(t,e){if(1&t){const t=l.Tb();l.Sb(0,"mat-card",14),l.Ob(1,"img",15),l.Sb(2,"mat-card-content",16),l.Sb(3,"p"),l.vc(4),l.Rb(),l.Sb(5,"p"),l.vc(6),l.Rb(),l.Rb(),l.Sb(7,"mat-card-actions",17),l.Sb(8,"button",18),l.ac("click",(function(){l.oc(t);const o=e.$implicit;return l.ec(2).removeFavorite(o)})),l.Sb(9,"mat-icon",19),l.vc(10,"remove"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit;l.jc("matTooltip",t.Title),l.Bb(1),l.jc("src",t.Poster,l.pc),l.Bb(3),l.wc(t.Year),l.Bb(2),l.wc(t.Type)}}function L(t,e){if(1&t&&(l.Sb(0,"div",12),l.uc(1,J,11,4,"mat-card",13),l.Rb()),2&t){const t=e.ngIf;l.Bb(1),l.jc("ngForOf",t)}}function D(t,e){if(1&t){const t=l.Tb();l.Sb(0,"mat-card",14),l.Ob(1,"img",15),l.Sb(2,"mat-card-content",16),l.Sb(3,"p"),l.vc(4),l.Rb(),l.Sb(5,"p"),l.vc(6),l.Rb(),l.Rb(),l.Sb(7,"mat-card-actions",17),l.Sb(8,"button",21),l.ac("click",(function(){l.oc(t);const o=e.$implicit;return l.ec(2).addFavorite(o)})),l.Sb(9,"mat-icon",19),l.vc(10,"add_circle_outline"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit;l.jc("matTooltip",t.Title),l.Bb(1),l.jc("src",t.Poster,l.pc),l.Bb(3),l.wc(t.Year),l.Bb(2),l.wc(t.Type)}}function K(t,e){if(1&t&&(l.Sb(0,"div",20),l.uc(1,D,11,4,"mat-card",13),l.Rb()),2&t){const t=e.ngIf;l.Bb(1),l.jc("ngForOf",t.Search)}}const V=[{path:"",redirectTo:"movies",pathMatch:"full"},{path:"movies",component:(()=>{class t{constructor(t,e,o){this.service=t,this.state=e,this._snackBar=o,this.typeMovies=s,this.page=1}ngOnInit(){this.favoriteMovies$=this.state.getFavoriteMovies(),this.movies$=this.state.getMovies(),this.searchForm=new r.d({search:new r.b("",[r.m.required]),type:new r.b,year:new r.b})}onSearch({search:t,type:e,year:o}){this.service.searchMovies$(t,e,o,this.page).pipe(Object(b.a)(1)).subscribe({next:t=>this.state.addMovies(t),error:t=>this.openSnackBar(t)})}addFavorite(t){this.state.addFavoriteMovies(t),this.openSnackBar("Movie add successful")}removeFavorite(t){this.state.removeFavoriteMovies(t),this.openSnackBar("Movie remove successful")}viewDetail(t){}openSnackBar(t){this.searchForm.reset(),this._snackBar.open(t,"Close",{duration:2e3})}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(u),l.Nb(h),l.Nb(S.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-list"]],decls:30,vars:9,consts:[[1,"list-movie"],[1,"list-movie-container","container"],[1,"list-movie-container-form",3,"formGroup"],["appearance","outline",1,"list-movie-container-form__input"],["matInput","","type","text","formControlName","search","placeholder","Movie"],["formControlName","type"],[4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","year","placeholder","Placeholder"],["mat-flat-button","","color","primary",1,"list-movie-container-form__button",3,"disabled","click"],["class","list-movie-container-favorites","cdkScrollable","",4,"ngIf"],["class","list-movie-container-result",4,"ngIf"],[3,"value"],["cdkScrollable","",1,"list-movie-container-favorites"],["class","movie-card","matRipple","","matRippleColor","primary",3,"matTooltip",4,"ngFor","ngForOf"],["matRipple","","matRippleColor","primary",1,"movie-card",3,"matTooltip"],["mat-card-image","",1,"movie-card__img",3,"src"],[1,"movie-card__content"],[1,"movie-card__actions"],["mat-button","","color","accent",3,"click"],["aria-hidden","false","aria-label","add-favorites"],[1,"list-movie-container-result"],["mat-button","","type","submit","color","accent",3,"click"]],template:function(t,e){1&t&&(l.Sb(0,"app-template"),l.Sb(1,"div",0),l.Sb(2,"div",1),l.Sb(3,"form",2),l.Sb(4,"mat-form-field",3),l.Sb(5,"mat-label"),l.vc(6,"Name movie"),l.Rb(),l.Ob(7,"input",4),l.Rb(),l.Sb(8,"mat-form-field",3),l.Sb(9,"mat-label"),l.vc(10,"Type"),l.Rb(),l.Sb(11,"mat-select",5),l.Sb(12,"mat-option"),l.vc(13,"-- None --"),l.Rb(),l.uc(14,H,3,2,"ng-container",6),l.Rb(),l.Rb(),l.Sb(15,"mat-form-field",3),l.Sb(16,"mat-label"),l.vc(17,"Year"),l.Rb(),l.Ob(18,"input",7),l.Rb(),l.Sb(19,"div"),l.Sb(20,"button",8),l.ac("click",(function(){return e.onSearch(e.searchForm.value)})),l.vc(21," Search "),l.Rb(),l.Rb(),l.Rb(),l.Sb(22,"h2"),l.vc(23,"Your Favorite Movies"),l.Rb(),l.uc(24,L,2,1,"div",9),l.fc(25,"async"),l.Sb(26,"h2"),l.vc(27,"Films Found"),l.Rb(),l.uc(28,K,2,1,"div",10),l.fc(29,"async"),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(3),l.jc("formGroup",e.searchForm),l.Bb(11),l.jc("ngForOf",e.typeMovies),l.Bb(6),l.jc("disabled",e.searchForm.invalid),l.Bb(4),l.jc("ngIf",l.gc(25,5,e.favoriteMovies$)),l.Bb(4),l.jc("ngIf",l.gc(29,7,e.movies$)))},directives:[j,r.n,r.j,r.e,P.b,P.e,B.a,r.a,r.i,r.c,I.a,$.h,i.j,k.a,i.k,n.a,N.a,$.l,T.a,N.f,N.c,N.b,x.a],pipes:[i.b],styles:[".list-movie[_ngcontent-%COMP%]{display:flex;justify-content:center}.list-movie-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0}.list-movie-container-favorites[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow:auto}.list-movie-container-form[_ngcontent-%COMP%]{align-items:baseline;display:flex;justify-content:center}.list-movie-container-form__input[_ngcontent-%COMP%]{margin:0 10px}.list-movie-container-result[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,20%)}.movie-card[_ngcontent-%COMP%]{cursor:pointer;max-width:200px;margin:10px;height:auto;width:100%}.movie-card__img[_ngcontent-%COMP%]{max-height:272px}.movie-card__content[_ngcontent-%COMP%]{display:flex}.movie-card__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;overflow:hidden;text-overflow:ellipsis;text-align:center;width:200px;white-space:nowrap}.movie-card__actions[_ngcontent-%COMP%]{position:absolute;bottom:15px;right:0}.movie-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px -5px #b388ff}"],changeDetection:0}),t})()}];let G=(()=>{class t{}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(e){return new(e||t)},imports:[[c.b.forChild(V)],c.b]}),t})(),X=(()=>{class t{}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(e){return new(e||t)},providers:[n.c],imports:[[i.c,G,a.a]]}),t})()}}]);